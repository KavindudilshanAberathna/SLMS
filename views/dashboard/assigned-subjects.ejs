<html>
    <head></head>

<body>
<h1>Assigned Subjects</h1>

<% if (success_msg) { %>
  <div style="color: green;"><%= success_msg %></div>
<% } %>

<% if (error_msg) { %>
  <div style="color: red;"><%= error_msg %></div>
<% } %>
<table>
  <thead>
    <tr>
      <th>Teacher</th>
      <th>Subject</th>
      <th>Class</th>
      <th>Section</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    <% allocations.forEach(a => { %>
      <tr>
        <td><%= a.teacher.fullName %></td>
        <td><%= a.subject %></td>
        <td><%= a.className %></td>
        <td><%= a.section %></td>
        <td>
          <a href="/edit-allocation/<%= a._id %>">Edit</a> |
          <form action="/delete-allocation/<%= a._id %>" method="POST" style="display:inline;">
            <button type="submit" onclick="return confirm('Are you sure?')">Delete</button>
          </form>
        </td>
      </tr>
    <% }) %>
  </tbody>
</table>
</body>
</html>